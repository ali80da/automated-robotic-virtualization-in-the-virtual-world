@model IEnumerable<ContainerViewModel>
@{
    ViewData["Title"] = "کانتینرها";
}
<div class="w-full min-h-screen py-10 px-2 sm:px-4 bg-gray-950 flex flex-col justify-start items-center">
    <div class="w-full max-w-7xl">
        <h2 class="text-4xl md:text-5xl font-black text-blue-200 mb-10 text-center drop-shadow-lg tracking-tight">
            لیست کانتینرها
            <span class="block text-base font-light text-gray-500 mt-2">Docker Containers</span>
        </h2>

        <div class="relative rounded-3xl shadow-2xl border border-blue-900 bg-gray-900 transition-all duration-200 overflow-hidden">
            <div class="overflow-x-auto scrollbar-thin scrollbar-thumb-blue-800 scrollbar-track-gray-900">
                <table class="min-w-full divide-y divide-blue-900 text-sm md:text-base bg-gray-900">
                    <thead class="bg-gradient-to-r from-gray-900 via-gray-950 to-gray-900 text-blue-300 text-xs uppercase font-bold sticky top-0 z-10">
                        <tr>
                            <th class="px-6 py-4 text-center"><span class="inline-flex items-center gap-1"><svg class="w-5 h-5 text-blue-400" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 17v-6a2 2 0 012-2h2a2 2 0 012 2v6m-4 0v-6m-2 6h8"></path></svg> Name </span></th>
                            <th class="px-6 py-4 text-center"><span class="inline-flex items-center gap-1"><svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect width="18" height="14" x="3" y="5" rx="2" /><path d="M7 7v10m10-10v10" /></svg> Image</span></th>
                            <th class="px-6 py-4 text-center"><span class="inline-flex items-center gap-1"><svg class="w-5 h-5 text-amber-400" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" /><path d="M4 12h8m0 0V4m0 8v8" /></svg> Ports</span></th>
                            <th class="px-6 py-4 text-center">📺 Monitor</th>
                            <th class="px-6 py-4 text-center">📊 Dashboard</th>
                            <th class="px-6 py-4 text-center">🖥 Terminal</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-blue-950 font-medium">
                        @if (!Model.Any())
                        {
                            <tr>
                                <td colspan="6" class="text-center py-10 text-gray-600 text-lg">هیچ کانتینری پیدا نشد.</td>
                            </tr>
                        }
                        @foreach (var c in Model)
                        {
                            <tr class="hover:bg-blue-900/40 hover:shadow-xl hover:scale-[1.01] group transition-all duration-150 border-l-4 border-transparent hover:border-blue-600">
                                <td class="px-6 py-4 text-center font-bold text-blue-200 group-hover:text-blue-400 transition">@c.Name</td>
                                <td class="px-6 py-4 text-center text-gray-200">@c.Image</td>
                                <td class="px-6 py-4 text-center">
                                    @foreach (var p in c.Ports)
                                    {
                                        var parts = p.Split("->");
                                        var publicPart = parts[0].Split(":")[1];
                                        <a href="http://localhost:@publicPart" target="_blank"
                                           class="inline-block bg-blue-950 text-blue-200 text-xs font-bold px-2 py-1 rounded-lg mr-2 mb-1 shadow-sm border border-blue-800 hover:bg-blue-900 hover:text-white transition-all duration-100">
                                            @p
                                        </a>
                                    }
                                </td>
                                <td class="px-6 py-4 text-center">
                                    <a href="/stream-monitor/@c.ID"
                                       class="inline-flex items-center gap-1 text-sm text-blue-300 underline font-semibold hover:text-blue-100 hover:scale-105 transition">
                                        <span>مشاهده</span>
                                        <svg class="w-5 h-5 animate-pulse group-hover:animate-none" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M15 10l4.553 2.276A2 2 0 0121 14.118v2.764A2 2 0 0119.553 19.724L15 22.5V10zm0 0L5 19.724m0 0A2 2 0 013 17.118v-2.764A2 2 0 015 13.276V19.724z" /></svg>
                                    </a>
                                </td>
                                <td class="px-6 py-4 text-center">
                                    <a href="/dashboard"
                                       class="inline-flex items-center gap-1 text-blue-400 font-semibold hover:underline hover:scale-105 transition">
                                        <span>داشبورد</span>
                                        <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M4 13V4h16v9M4 21h16M4 17h16"></path></svg>
                                    </a>
                                </td>
                                <td class="px-6 py-4 text-center">
                                    <a href="/terminal?id=@c.ID"
                                       class="inline-flex items-center gap-1 text-sm text-green-400 hover:text-green-200 font-semibold underline hover:scale-105 transition">
                                        <span>ترمینال</span>
                                        <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M8 9l3 3-3 3m5-6h.01"></path></svg>
                                    </a>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
